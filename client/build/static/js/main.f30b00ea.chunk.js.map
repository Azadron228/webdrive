{"version":3,"sources":["config/history.js","state/user/user.actions.js","state/user/user.reducer.js","state/folder/folder.actions.js","state/folder/folder.reducer.js","state/index.js","config/store.js","config/config.js","config/request.js","state/folder/folder.controller.js","state/user/user.controller.js","components/Sidebar/Sidebar.jsx","state/folder/folder.selectors.js","components/MainView/Cards.jsx","config/debouncer.js","components/MainView/MoveDialog.jsx","components/MainView/FolderContents.jsx","components/MainView/AddForm.jsx","components/MainView/MainView.jsx","components/MainView/SearchView.jsx","pages/Home.jsx","serviceWorker.js","index.js"],"names":["createBrowserHistory","UserActions","UserCreators","id","name","home","type","error","defaultState","currentUser","FolderActions","FolderCreators","folderId","folder","parentFolderId","file","fileId","query","data","from","to","item","moveType","folderView","folderData","move","searchData","files","folders","State","combineReducers","user","state","action","newState","cloneDeep","push","fields","hasOwnProperty","filter","a","middleware","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","Thunk","store","createStore","_fetch","path","args","fetch","Config","then","res","json","Request","length","merge","headers","method","qstring","Object","keys","reduce","acc","key","endsWith","slice","formData","FormData","append","body","JSON","stringify","callGetFolder","dispatch","console","log","get","catch","er","toString","callGetUserAndFolder","split","History","location","pathname","callMoveFileOrFolder","toFolderId","getState","post","fromFolder","toFolder","e","callMoveFile","callMoveFolder","Sidebar","useSelector","tree","className","map","parent","Card","showMoveDialog","children","useDispatch","IconButton","size","style","color","onClick","delete","callDeleteFile","callDeleteFolder","FolderCard","fontSize","FileCard","useDebounce","useState","search","setSearch","searchFor","setSearchFor","debounceSetSearchFor","useCallback","fn","delay","timer","context","this","arguments","clearTimeout","setTimeout","apply","debounce","value","event","target","keyCode","preventDefault","MoveDialog","props","onChange","onEnter","useEffect","open","Dialog","onClose","aria-labelledby","DialogTitle","ListSubheader","TextField","autoFocus","label","onKeyDown","List","ListItem","button","handleListItemClick","ListItemText","primary","FolderContents","setOpen","fold","AddForm","setType","setName","setFile","handleChange","fun","isDisabled","variant","bind","FormControl","InputLabel","htmlFor","Select","margin","MenuItem","Button","maxWidth","overflow","disabled","component","display","postForm","callCreateFile","callCreateFolder","MainView","background","withRouter","startsWith","currentRouteFolderId","exact","Boolean","hostname","match","ReactDOM","render","StrictMode","Store","Home","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.f30b00ea.chunk.js","sourcesContent":["import { createBrowserHistory } from 'history';\n\nexport default createBrowserHistory()","export const UserActions = {\n  GET_USER: 'GET_USER',\n  GET_USER_SUCCESS: 'GET_USER_SUCCESS',\n  GET_USER_ERROR: 'GET_USER_ERROR',\n}\n\nexport const UserCreators = {\n  getUser: () => ({type: UserActions.GET_USER}),\n  getUserSuccess: (id, name, home) => ({type: UserActions.GET_USER_SUCCESS, id, name, home}),\n  getUserError: (error) => ({type: UserActions.GET_USER_ERROR, error}),\n}","import { UserActions } from './user.actions';\n\nconst defaultState = {\n  currentUser: null,\n  id: null,\n  home: null\n}\n\nexport default function UserReducer (state = defaultState, action) {\n  switch (action.type) {\n    case UserActions.GET_USER_SUCCESS:\n      return {...defaultState, id: action.id, home: action.home, currentUser: action.id};\n\n    default:\n      return state;\n  }\n}","\nexport const FolderActions = {\n  SET_FOLDER_VIEW: 'SET_FOLDER_VIEW',\n\n  GET_FOLDER: 'GET_FOLDER',\n  GET_FOLDER_SUCCESS: 'GET_FOLDER_SUCCESS',\n  GET_FOLDER_ERROR: 'GET_FOLDER_ERROR',\n\n  CREATE_FOLDER: 'CREATE_FOLDER',\n  CREATE_FOLDER_SUCCESS: 'CREATE_FOLDER_SUCCESS',\n  CREATE_FOLDER_ERROR: 'CREATE_FOLDER_ERROR',\n\n  DELETE_FOLDER: 'DELETE_FOLDER',\n  DELETE_FOLDER_SUCCESS: 'DELETE_FOLDER_SUCCESS',\n  DELETE_FOLDER_ERROR: 'DELETE_FOLDER_ERROR',\n\n  CREATE_FILE: 'CREATE_FILE',\n  CREATE_FILE_SUCCESS: 'CREATE_FILE_SUCCESS',\n  CREATE_FILE_ERROR: 'CREATE_FILE_ERROR',\n\n  DELETE_FILE: 'DELETE_FILE',\n  DELETE_FILE_SUCCESS: 'DELETE_FILE_SUCCESS',\n  DELETE_FILE_ERROR: 'DELETE_FILE_ERROR',\n\n  SEARCH_ALL: 'SEARCH_ALL',\n  SEARCH_ALL_SUCCESS: 'SEARCH_ALL_SUCCESS',\n  SEARCH_ALL_ERROR: 'SEARCH_ALL_ERROR',\n\n  MOVE_FILE: 'MOVE_FILE',\n  MOVE_FILE_SUCCESS: 'MOVE_FILE_SUCCESS',\n  MOVE_FILE_ERROR: 'SEARCH_FILE_ERROR',\n\n  MOVE_FOLDER: 'MOVE_FOLDER',\n  MOVE_FOLDER_SUCCESS: 'MOVE_FOLDER_SUCCESS',\n  MOVE_FOLDER_ERROR: 'SEARCH_FOLDER_ERROR',\n\n  SET_MOVE_ID: 'SET_MOVE_ID',\n}\n\nexport const FolderCreators = {\n  getFolder: (folderId) => ({type: FolderActions.GET_FOLDER, folderId}),\n  getFolderSuccess: (folderId, folder) => ({type: FolderActions.GET_FOLDER_SUCCESS, folderId, folder}),\n  getFolderError: (folderId, error) => ({type: FolderActions.GET_FOLDER_ERROR, folderId, error}),\n\n  createFolder: (parentFolderId, name) => ({type: FolderActions.CREATE_FOLDER, parentFolderId, name}),\n  createFolderSuccess: (parentFolderId, name, folder) => ({type: FolderActions.CREATE_FOLDER_SUCCESS, parentFolderId, name, folder}),\n  createFolderError: (parentFolderId, name, error) => ({type: FolderActions.CREATE_FOLDER_ERROR, parentFolderId, name}),\n\n  deleteFolder: (parentFolderId, folderId) => ({type: FolderActions.DELETE_FOLDER, parentFolderId, folderId}),\n  deleteFolderSuccess: (parentFolderId, folderId) => ({type: FolderActions.DELETE_FOLDER_SUCCESS, parentFolderId, folderId}),\n  deleteFolderError: (parentFolderId, folderId, error) => ({type: FolderActions.DELETE_FOLDER_ERROR, parentFolderId, folderId, error}),\n\n  createFile: (parentFolderId, name, file) => ({type: FolderActions.CREATE_FILE, parentFolderId, name, file}),\n  createFileSuccess: (parentFolderId, file) => ({type: FolderActions.CREATE_FILE_SUCCESS, parentFolderId, file}),\n  createFileError: (parentFolderId, error) => ({type: FolderActions.CREATE_FILE_ERROR, parentFolderId, error}),\n\n  deleteFile: (parentFolderId, fileId) => ({type: FolderActions.DELETE_FILE, parentFolderId, fileId}),\n  deleteFileSuccess: (parentFolderId, fileId) => ({type: FolderActions.DELETE_FILE_SUCCESS, parentFolderId, fileId}),\n  deleteFileError: (parentFolderId, fileId, error) => ({type: FolderActions.DELETE_FILE_ERROR, parentFolderId, fileId, error}),\n\n  searchAll: (query) => ({type: FolderActions.SEARCH_ALL, query}),\n  searchAllSuccess: (query, data) => ({type: FolderActions.SEARCH_ALL_SUCCESS, query, data}),\n  searchAllError: (query, error) => ({type: FolderActions.SEARCH_ALL_ERROR, query, error}),\n\n  moveFile: (fileId, parentFolderId, folderId) => ({type: FolderActions.MOVE_FILE, fileId, parentFolderId, folderId}),\n  moveFileSuccess: (fileId, from, to, item) => ({type: FolderActions.MOVE_FILE_SUCCESS, fileId, from, to, item}),\n  moveFileError: (fileId, parentFolderId, folderId, error) => ({type: FolderActions.MOVE_FILE_ERROR, fileId, parentFolderId, folderId, error}),\n\n  moveFolder: (id, parentFolderId, folderId) => ({type: FolderActions.MOVE_FOLDER, id, parentFolderId, folderId}),\n  moveFolderSuccess: (id, from, to, item) => ({type: FolderActions.MOVE_FOLDER_SUCCESS, id, from, to, item}),\n  moveFolderError: (id, parentFolderId, folderId, error) => ({type: FolderActions.MOVE_FOLDER_ERROR, id, parentFolderId, folderId, error}),\n\n  setMoveId: (id, moveType, parentFolderId) => ({type: FolderActions.SET_MOVE_ID, id, moveType, parentFolderId}),\n\n  setFolderView: (folderView) => ({type: FolderActions.SET_FOLDER_VIEW, folderView}),\n}","import cloneDeep from 'lodash/cloneDeep';\n\nimport { FolderActions } from './folder.actions';\n\nconst defaultState = {\n  folderId: null,\n  folderView: 'list',\n  folderData: {\n  },\n  move: {\n    id: null,\n    type: ''\n  },\n  searchData: {\n    files: [],\n    folders: [],\n  }\n}\n\nexport default function FolderReducer(state = defaultState, action) {\n  let newState;\n  switch (action.type) {\n    case FolderActions.GET_FOLDER_SUCCESS:\n      return {...state, folderId: action.folderId, folderData: action.folder};\n\n    case FolderActions.CREATE_FOLDER_SUCCESS:\n      if(state.folderData.id !== action.parentFolderId)\n        return state;\n\n      newState = cloneDeep(state);\n      newState.folderView = 'list';\n      newState.folderData.folders.push(action.folder);\n      return newState;\n\n    case FolderActions.CREATE_FILE_SUCCESS:\n      if(state.folderData.id !== action.parentFolderId)\n        return state;\n\n      newState = cloneDeep(state);\n      newState.folderView = 'list';\n      newState.folderData.files.push(action.file);\n      return newState;\n    \n    case FolderActions.SET_FOLDER_VIEW:\n      newState = cloneDeep(state);\n      newState.folderView = action.folderView;\n      return newState;\n\n    case FolderActions.DELETE_FILE_SUCCESS:\n    case FolderActions.DELETE_FOLDER_SUCCESS:\n      let fields = action.hasOwnProperty('folderId')? ['folders', 'folderId']: ['files', 'fileId'];\n      newState = cloneDeep(state);\n      newState.folderData[fields[0]] = newState.folderData[fields[0]].filter(a => a.id !== action[fields[1]]);\n      return newState;\n\n    case FolderActions.SEARCH_ALL_SUCCESS:\n      return {...state, searchData: {files: action.data.files ||[], folders: action.data.folders || []}};\n\n    case FolderActions.MOVE_FOLDER_SUCCESS:\n    case FolderActions.MOVE_FILE_SUCCESS:\n      newState = cloneDeep(state);\n      newState.folderData.folders = action.from.folders;\n      newState.folderData.files = action.from.files;\n      return newState;\n\n    case FolderActions.SET_MOVE_ID:\n      return {...state, move: {id: action.id, type: action.moveType, parentFolderId: action.parentFolderId}};\n\n    default:\n      return state;\n  }\n}","import { combineReducers } from 'redux'\nimport userReducer from './user/user.reducer';\nimport folderReducer from './folder/folder.reducer';\n\nexport const State = combineReducers({\n  user: userReducer,\n  folder: folderReducer\n})","import { createStore, applyMiddleware, compose } from 'redux'\nimport Thunk from 'redux-thunk';\nimport { State } from '../state';\n\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nlet middleware = composeEnhancers(applyMiddleware(Thunk))\nlet store = createStore(State, middleware);\n\nexport default store;","\n\nexport default {\n  url: 'http://localhost:8000/api/'\n}","import Config from './config';\nimport merge from 'lodash/merge';\nimport cloneDeep from 'lodash/cloneDeep';\n\nconst getDefaultArgs = () => {\n  return {\n      // mode: 'no-cors',\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json',\n      },\n    };\n}\n\nconst _fetch = (path, args) => {\n  return fetch(Config.url + path, args)\n    .then((res) => {\n      return res.json();\n    })\n}\n\n\nexport default class Request {\n  static get(path, query = {}) {\n    if(path[path.length - 1] !== \"/\")\n      path += \"/\"\n\n    let args = merge({}, getDefaultArgs(), { method: 'GET' });\n    let qstring = Object.keys(query).reduce((acc, key) => {\n      acc = acc + key + '=' + query[key] + '&';\n      return acc;\n    }, '');\n    if(qstring.endsWith('&'))\n      qstring = qstring.slice(0, qstring.length - 1);\n    if(qstring != '')\n      path = path + '?' + qstring;\n\n    return _fetch(path, args);\n  }\n\n  static postForm(path, data) {\n    if(path[path.length - 1] !== \"/\")\n      path += \"/\"\n    let args = cloneDeep(getDefaultArgs());\n    args.method = 'POST';\n    delete args.headers['Content-Type'];\n\n    let formData = new FormData();\n    Object.keys(data).reduce((acc, key) => {\n      acc.append(key, data[key]);\n      return acc;\n    }, formData);\n\n    args.body = formData;\n\n    return _fetch(path, args);\n  }\n\n  static post(path, data) {\n    if(path[path.length - 1] !== \"/\")\n      path += \"/\"\n    let args = cloneDeep(getDefaultArgs());\n    args.method = 'POST';\n\n    args.body = JSON.stringify(data);\n\n    return _fetch(path, args);\n  }\n\n  static delete(path) {\n    if(path[path.length - 1] !== \"/\")\n      path += \"/\"\n    let args = merge({}, getDefaultArgs(), { method: 'DELETE' });\n\n    return _fetch(path, args);\n  }\n}","import Request from '../../config/request';\nimport History from '../../config/history';\nimport { FolderCreators } from './folder.actions';\nimport { callGetUser } from '../user/user.controller';\n\nexport const callGetFolder = (folderId) => {\n  return (dispatch) => {\n    console.log('calling folder', folderId);\n    return Request.get(`folders/${folderId}/`)\n      .then(data => dispatch(FolderCreators.getFolderSuccess(folderId, data)))\n      .catch(er => dispatch(FolderCreators.getFolderError(folderId, er.toString())))\n  }\n}\n\nexport const callGetUserAndFolder = () => {\n  return dispatch => {\n    return dispatch(callGetUser())\n      .then((action) => {\n        let path = History.location.pathname || '';\n        let split = path.split(\"/\");\n        // if link starts with folders then load that as parent\n        if (split[1] === 'folders') {\n          let id = split[2];\n          return dispatch(callGetFolder(id))\n        }\n        else if (action.id) {\n          let folderId = action.home;\n          return dispatch(callGetFolder(folderId))\n        }\n      })\n  }\n}\n\nexport const fetchFolderIfRequired = (location) => {\n  return (dispatch, getState) => {\n    let state = getState();\n    let user = state.user || {};\n    let folderData = state.folder.folderData || {};\n    let path = location.pathname || '';\n    // ignore non folder routes\n    if (!path.startsWith(\"/folders\") && path !== '/') {\n      return;\n    }\n    let split = path.split(\"/\");\n    let currentRouteFolderId = folderData.id;\n    // if link starts with folders then load that as parent\n    if (split[1] === 'folders') {\n      let id = split[2];\n      currentRouteFolderId = id;\n    }\n\n    if (user.id && folderData.id && folderData.id !== currentRouteFolderId) {\n      return dispatch(callGetFolder(currentRouteFolderId));\n    }\n  }\n}\n\nexport const callCreateFolder = (parentFolderId, name) => {\n  return dispatch => {\n    dispatch(FolderCreators.createFolder(parentFolderId, name));\n\n    return Request.postForm(`folders/${parentFolderId}/folders`, {name})\n      .then(data => dispatch(FolderCreators.createFolderSuccess(parentFolderId, name, data)))\n      .catch(e => dispatch(FolderCreators.createFolderError(parentFolderId, name, e.toString())))\n  }\n}\n\nexport const callCreateFile = (parentFolderId, name, file) => {\n  return dispatch => {\n    dispatch(FolderCreators.createFile(parentFolderId, name, file));\n\n    return Request.postForm(`folders/${parentFolderId}/files`, {name, file})\n      .then(data => dispatch(FolderCreators.createFileSuccess(parentFolderId, data)))\n      .catch(e => dispatch(FolderCreators.createFileError(parentFolderId, e.toString())))\n  }\n}\n\nexport const callDeleteFolder = (parentFolderId, folderId) => {\n  return dispatch => {\n    dispatch(FolderCreators.deleteFolder(parentFolderId, folderId));\n\n    return Request.delete(`folders/${folderId}`)\n      .then(data => dispatch(FolderCreators.deleteFolderSuccess(parentFolderId, folderId)))\n      .catch(e => dispatch(FolderCreators.deleteFolderError(parentFolderId, folderId, e.toString())))\n  }\n}\n\nexport const callDeleteFile = (parentFolderId, folderId) => {\n  return dispatch => {\n    dispatch(FolderCreators.deleteFile(parentFolderId, folderId));\n\n    return Request.delete(`files/${folderId}`)\n      .then(data => dispatch(FolderCreators.deleteFileSuccess(parentFolderId, folderId)))\n      .catch(e => dispatch(FolderCreators.deleteFileError(parentFolderId, folderId, e.toString())))\n  }\n}\n\nexport const callSearchAll = (query) => {\n  return dispatch => {\n    dispatch(FolderCreators.searchAll(query));\n\n    return Request.get('search', {query})\n      .then(data => dispatch(FolderCreators.searchAllSuccess(query, data)))\n      .catch(e => dispatch(FolderCreators.searchAllError(query, e.toString())))\n  }\n}\n\nexport const callSearchFolder = (query) => {\n  return dispatch => {\n    dispatch(FolderCreators.searchAll(query));\n\n    return Request.get('search', {query, type: 'folder'})\n      .then(data => dispatch(FolderCreators.searchAllSuccess(query, data)))\n      .catch(e => dispatch(FolderCreators.searchAllError(query, e.toString())))\n  }\n}\n\nexport const callMoveFile = (fileId, parentFolderId, folderId) => {\n  return dispatch => {\n    dispatch(FolderCreators.moveFile(fileId, parentFolderId, folderId));\n\n    return Request.post('move', {id: fileId, fromFolder: parentFolderId, toFolder: folderId, type: 'file'})\n      .then(data => dispatch(FolderCreators.moveFileSuccess(fileId, data.from, data.to, data.item)))\n      .catch(e => dispatch(FolderCreators.moveFileError(fileId, parentFolderId, folderId, e.toString())))\n  }\n}\n\nexport const callMoveFolder = (id, parentFolderId, folderId) => {\n  return dispatch => {\n    dispatch(FolderCreators.moveFolder(id, parentFolderId, folderId));\n\n    return Request.post('move', {id: id, fromFolder: parentFolderId, toFolder: folderId, type: 'folder'})\n      .then(data => dispatch(FolderCreators.moveFolderSuccess(id, data.from, data.to, data.item)))\n      .catch(e => dispatch(FolderCreators.moveFolderError(id, parentFolderId, folderId, e.toString())))\n  }\n}\n\nexport const callMoveFileOrFolder = (toFolderId) => {\n  return (dispatch, getState) => {\n    let state = getState();\n    let {id, type, parentFolderId} = state.folder.move || {};\n\n    if (type === 'file') {\n      return dispatch(callMoveFile(id, parentFolderId, toFolderId));\n    }\n    else if(type === 'folder') {\n      return dispatch(callMoveFolder(id, parentFolderId, toFolderId));\n    }\n  }\n}","import Request from '../../config/request';\nimport { UserCreators } from './user.actions';\n\nexport const callGetUser = () => {\n  return (dispatch) => {\n    return Request.get('users/1')\n      .then(data => dispatch(UserCreators.getUserSuccess(data.id, data.name, data.home)))\n      .catch(er => dispatch(UserCreators.getUserError(er.name)))\n  }\n}","import React from \"react\";\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nimport { getCurrentFolder } from '../../state/folder/folder.selectors';\nimport './Sidebar.scss';\n\nexport default function Sidebar() {\n  let folder = useSelector(getCurrentFolder()) || {};\n  let tree = folder.tree || [];\n\n  return (\n    <div className=\"sidebar\">\n      <div className=\"header\">\n        <div className=\"appName\">Web <span className=\"branding\">Drive</span></div>\n        <div className=\"divider\"></div>\n      </div>\n      <div className=\"folderStructure\">\n        <div className=\"list\">\n          {\n            tree.map((parent) => {\n              return (\n                <Link key={parent.id} className=\"sidebarLink\" to={\"/folders/\" + parent.id}>\n                  <div className={\"listItem \" + (folder.id === parent.id? \"current\": \"\")}>{parent.name}</div>\n                </Link>\n              )\n            })\n          }\n\n        </div>\n      </div>\n      {/* <div className=\"footer\">\n        <div className=\"actions\">\n          <button className=\"addButton\">+</button>\n          <button className=\"searchButton\">?</button>\n        </div>\n      </div> */}\n    </div>\n  )\n}","import History from '../../config/history';\n\nexport const getCurrentFolder = () => {\n  return (state) => {\n    return state.folder.folderData || {};\n  }\n}\n\nexport const getSearchData = () => {\n  return state => {\n    return state.folder.searchData || {};\n  }\n}\n\nexport const getFolderView = () => {\n  return (state) => {\n    return state.folder.folderView || '';\n  }\n}\n\nexport const getHistory = () => {\n  return state => {\n    return History.location;\n  }\n}","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport IconButton from '@material-ui/core/IconButton';\nimport FolderIcon from '@material-ui/icons/Folder';\nimport FileIcon from '@material-ui/icons/Description';\nimport CloseIcon from '@material-ui/icons/Close';\nimport MoveIcon from '@material-ui/icons/Eject';\n\nimport { FolderCreators } from '../../state/folder/folder.actions';\nimport { callGetFolder, callDeleteFile, callDeleteFolder } from '../../state/folder/folder.controller';\n\nconst Card = ({type, item, parentFolderId, showMoveDialog, children}) => {\n  let dispatch = useDispatch();\n\n  let handleClose = () => {\n    if (type === 'fileCard')\n      dispatch(callDeleteFile(parentFolderId, item.id));\n    else\n      dispatch(callDeleteFolder(parentFolderId, item.id))\n  }\n\n  let handleMoveClick = () => {\n    showMoveDialog(true);\n    dispatch(FolderCreators.setMoveId(item.id, type === 'fileCard'? 'file': 'folder', parentFolderId));\n  }\n\n  return (\n    <div key={item.id} className={\"card \" + type }>\n      {\n        parentFolderId?\n          <div className=\"cardActions\">\n            <div className=\"action\">\n              <IconButton size=\"small\" style={{color: 'inherit'}} onClick={handleMoveClick}>\n                <MoveIcon />\n              </IconButton>\n              <IconButton size=\"small\" style={{color: 'inherit'}} onClick={handleClose}>\n                <CloseIcon />\n              </IconButton>\n            </div>\n          </div>\n          : null\n\n      }\n      {children}\n      <div className=\"cardFooter\">\n        <div className=\"cardName\">{item.name}</div>\n      </div>\n    </div>\n  )\n\n}\n\nexport const FolderCard = ({folder, parentFolderId, showMoveDialog}) => {\n  let dispatch = useDispatch();\n  const handleCardClick = () => {\n    dispatch(callGetFolder(folder.id));\n  }\n\n  return (\n    <Card item={folder} parentFolderId={parentFolderId} type=\"folderCard\" showMoveDialog={showMoveDialog}>\n      <Link to={\"/folders/\" + folder.id} onClick={handleCardClick}>\n        <div className=\"icon\">\n          <FolderIcon style={{fontSize: 'inherit', color: 'inherit'}} />\n        </div>\n      </Link>\n    </Card>\n  )\n}\n\nexport const FileCard = ({file, parentFolderId, showMoveDialog}) => {\n  return (\n    <Card item={file} parentFolderId={parentFolderId} type=\"fileCard\" showMoveDialog={showMoveDialog}>\n      <div className=\"icon\">\n        <FileIcon style={{fontSize: 'inherit', color: 'inherit'}} />\n      </div>\n    </Card>\n  )\n}","import { useState, useCallback } from 'react';\n\nconst debounce = (fn, delay) => {\n  let timer = null;\n  return function() {\n      const context = this,\n      args = arguments;\n      clearTimeout(timer);\n      timer = setTimeout(() => {\n          fn.apply(context, args);\n      }, delay);\n  };  \n}\n\nexport default function useDebounce() {\n  const [search, setSearch] = useState('');\n  const [searchFor, setSearchFor] = useState(search);\n\n\n  const onEnter = event => {\n    const { keyCode } = event;\n    if (keyCode === 13) {\n        event.preventDefault();\n        setSearchFor(search);\n    }\n  }\n\n  const onChange = event => {\n    const { value } = event.target;\n    setSearch(value);\n    debounceSetSearchFor(value);\n  };\n\n  const debounceSetSearchFor = useCallback(debounce(function(value) {\n    setSearchFor(value);\n  }, 250), []);\n\n  return [search, searchFor, onChange, onEnter]\n}","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport TextField from '@material-ui/core/TextField';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Dialog from '@material-ui/core/Dialog';\n\nimport useDebounce from '../../config/debouncer';\nimport { getSearchData } from '../../state/folder/folder.selectors';\nimport { callSearchFolder, callMoveFileOrFolder } from '../../state/folder/folder.controller';\n\nexport default function MoveDialog(props) {\n  let [search, searchFor, onChange, onEnter] = useDebounce();\n  let searchData = useSelector(getSearchData());\n  let folders = searchData.folders || [];\n  let dispatch = useDispatch();\n\n  useEffect(() => {\n    // Debounced search is here\n    dispatch(callSearchFolder(searchFor));\n  }, [searchFor]);\n\n  const { open, showMoveDialog } = props;\n\n  const handleClose = () => {\n    showMoveDialog(false);\n  };\n\n  const handleListItemClick = (folder) => {\n    showMoveDialog(false);\n    dispatch(callMoveFileOrFolder(folder.id))\n  };\n\n  return (\n    <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\" open={open}>\n      <DialogTitle id=\"simple-dialog-title\" className=\"dialogTitle\">Move To</DialogTitle>\n      <ListSubheader>\n        <TextField autoFocus className=\"moveSearch\" label=\"Search Folders\" \n          value={search}\n          onKeyDown={onEnter}\n          onChange={onChange} \n          />\n      </ListSubheader>\n\n      <List>\n        {folders.map((folder) => (\n          <ListItem button onClick={() => handleListItemClick(folder)} key={folder.id}>\n            <ListItemText primary={folder.name} />\n          </ListItem>\n        ))}\n      </List>\n    </Dialog>\n  );\n}\n","import React, { useState } from 'react';\nimport { FolderCard, FileCard } from './Cards';\nimport MoveDialog from './MoveDialog';\n\n\nexport default function FolderContents({folder}) {\n  let folders = (folder.folders || []);\n  let files = (folder.files || []);\n  let [open, setOpen] = useState(false);\n\n  const showMoveDialog = (value) => {\n    setOpen(value);\n  }\n\n  return (\n    <div className=\"folderContents\">\n      {/* <div className=\"label\">Folders</div> */}\n      <div className=\"list folderList\">\n        <div className=\"listScroll folderList\">\n          {folders.map((fold) => {\n            return <FolderCard key={fold.id} folder={fold} parentFolderId={folder.id} showMoveDialog={showMoveDialog} />\n          })}\n        </div>\n      </div>\n      {/* <div className=\"label\">Files</div> */}\n      <div className=\"list fileList\">\n        <div className=\"listScroll fileList\">\n          {files.map((file) => {\n            return <FileCard key={file.id} file={file} parentFolderId={folder.id} showMoveDialog={showMoveDialog} />\n          })}\n        </div>\n      </div>\n      <MoveDialog open={open} showMoveDialog={showMoveDialog} />\n    </div>\n  )\n}","import React, { useState, useRef } from 'react';\nimport { useDispatch } from 'react-redux';\nimport TextField from '@material-ui/core/TextField'\nimport Select from '@material-ui/core/Select'\nimport Button from '@material-ui/core/Button'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport FormControl from '@material-ui/core/FormControl'\nimport MenuItem from '@material-ui/core/MenuItem'\n\nimport { callCreateFolder, callCreateFile } from '../../state/folder/folder.controller';\n\nexport default function AddForm({folder}) {\n  let [type, setType] = useState(\"folder\");\n  let [name, setName] = useState(\"\");\n  let [file, setFile] = useState()\n  let dispatch = useDispatch();\n\n  const onSubmit = () => {\n    console.log('reff', type, name);\n    if (type === \"file\") {\n      dispatch(callCreateFile(folder.id, name, file));\n    }\n    else {\n      dispatch(callCreateFolder(folder.id, name));\n    }\n  }\n  const handleChange = (fun, e) => {\n    fun(e.target.value)\n  }\n  const handleFileChange = (e) => {\n    setFile(e.target.files[0]);\n  }\n  let isDisabled = type === 'file' && !file;\n\n  return (\n    <div className=\"addForm\">\n      <div className=\"formCard\">\n        <form className=\"form\">\n          <TextField variant=\"outlined\" \n            label=\"Name\" className=\"input\" \n            value={name}\n            onChange={handleChange.bind(null, setName)}\n            autoFocus\n            />\n          <FormControl>\n            <InputLabel htmlFor=\"grouped-native-select\" className=\"input\">Create a new</InputLabel>\n            <Select\n              id=\"grouped-native-select\"\n              value={type}\n              onChange={handleChange.bind(null, setType)}\n              className=\"input\"\n              margin=\"normal\"\n              // onChange={handleChange}\n            >\n              <MenuItem className=\"input\" value=\"folder\">Folder</MenuItem>\n              <MenuItem value=\"file\">File</MenuItem>\n            </Select>\n          </FormControl>\n          {\n            type === 'file'?\n              (\n                <Button\n                  className=\"input upload\"\n                  variant=\"contained\"\n                  style={{maxWidth: '200px', overflow: 'hidden'}}\n                  disabled={file}\n                  component=\"label\"\n                >\n                  {\n                    file?\n                      file.name\n                      : \"Upload File\"\n                  }\n                  <input\n                    type=\"file\"\n                    onChange={handleFileChange}\n                    style={{ display: \"none\" }}\n                  />\n                </Button>\n              ) : null\n          }\n          <Button variant=\"contained\" disabled={isDisabled} className=\"submit\" onClick={onSubmit}>Submit</Button>\n        </form>\n      </div>\n    </div>\n  )\n}","import React, {useEffect} from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport IconButton from '@material-ui/core/IconButton';\nimport AddIcon from '@material-ui/icons/Add';\nimport SearchIcon from '@material-ui/icons/Search';\n\nimport { getCurrentFolder, getFolderView } from '../../state/folder/folder.selectors';\nimport { FolderCreators } from '../../state/folder/folder.actions';\nimport FolderContents from './FolderContents';\nimport AddForm from './AddForm';\nimport './MainView.scss';\n\nexport default function MainView() {\n  let folder = useSelector(getCurrentFolder());\n  let folderView = useSelector(getFolderView());\n  let dispatch = useDispatch();\n\n  const handleAdd = () => {\n    dispatch(FolderCreators.setFolderView('add'));\n  }\n\n  return (\n    <div className=\"mainView\">\n      <div className=\"header\">\n        <div className=\"folderHeader\">\n          <div className=\"folderName\">{folder.name}</div>\n          <div className={\"action add \" + (folderView == 'list'? 'show': '')}>\n            <IconButton style={{background: '#1B53BD', color: 'inherit'}} onClick={handleAdd}>\n              <AddIcon />\n            </IconButton>\n          </div>\n          <div className={\"action search \" + (folderView === 'list'? 'show': '')}>\n            <Link to=\"/search\" style={{color: 'inherit'}}>\n              <IconButton style={{background: '#1B53BD', color: 'inherit'}}>\n                  <SearchIcon />\n              </IconButton>\n            </Link>\n          </div>\n        </div>\n        <div className=\"divider\"></div>\n      </div>\n      <div className=\"mainContent\">\n        {\n          folderView === 'list'?\n            <FolderContents folder={folder} />\n            : <AddForm folder={folder} />\n        }\n      </div>\n    </div>\n  )\n}","import React, { useState, useEffect, useCallback } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport TextField from '@material-ui/core/TextField';\n// import IconButton from '@material-ui/core/IconButton';\n// import AddIcon from '@material-ui/icons/Add';\n// import SearchIcon from '@material-ui/icons/Search';\n\nimport { getCurrentFolder, getFolderView, getSearchData } from '../../state/folder/folder.selectors';\nimport { callSearchAll } from '../../state/folder/folder.controller';\nimport { FolderCreators } from '../../state/folder/folder.actions';\nimport FolderContents from './FolderContents';\nimport './MainView.scss';\n\n\nconst debounce = (fn, delay) => {\n  let timer = null;\n  return function() {\n      const context = this,\n      args = arguments;\n      clearTimeout(timer);\n      timer = setTimeout(() => {\n          fn.apply(context, args);\n      }, delay);\n  };  \n}\n\nexport default function MainView() {\n  let folder = useSelector(getCurrentFolder());\n  let searchData = useSelector(getSearchData());\n  let folderView = useSelector(getFolderView());\n  let dispatch = useDispatch();\n\n  const [search, setSearch] = useState('');\n  const [searchFor, setSearchFor] = useState(search);\n\n  useEffect(() => {\n    console.log(\"Search:\", searchFor);\n    // Debounced search is here\n    dispatch(callSearchAll(searchFor));\n  }, [searchFor]);\n\n\n  const fireChange = event => {\n    const { keyCode } = event;\n    if (keyCode === 13) {\n        event.preventDefault();\n        setSearchFor(search);\n    }\n  }\n\n  const changeSearch = event => {\n    const { value } = event.target;\n    setSearch(value);\n    debounceSetSearchFor(value);\n  };\n\n  const debounceSetSearchFor = useCallback(debounce(function(value) {\n    setSearchFor(value);\n  }, 250), []);\n\n\n  return (\n    <div className=\"mainView\">\n      <div className=\"header\">\n        <div className=\"folderHeader\">\n          <TextField autoFocus className=\"searchField\" label=\"Query\" \n            value={search}\n            onKeyDown={fireChange}\n            onChange={changeSearch} />\n        </div>\n      </div>\n      <div className=\"mainContent\">\n        <FolderContents folder={searchData} />\n      </div>\n    </div>\n  )\n}","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Switch, Route, withRouter } from 'react-router-dom';\n\nimport { callGetUserAndFolder, fetchFolderIfRequired } from '../state/folder/folder.controller';\nimport History from '../config/history';\nimport Sidebar from '../components/Sidebar/Sidebar';\nimport MainView from '../components/MainView/MainView';\nimport SearchView from '../components/MainView/SearchView';\nimport './Home.styles.scss';\n\nexport default withRouter(function(props) {\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(fetchFolderIfRequired(props.location));\n  }, [props.location])\n  useEffect(() => {\n    dispatch(callGetUserAndFolder());\n  }, [dispatch])\n\n\n  return (\n    <div className=\"page homepage\">\n      <div className=\"sidebar-wrapper\">\n        <Sidebar />\n      </div>\n      <div className=\"main-wrapper\">\n        <Switch>\n          <Route path=\"/folders/:id\">\n            <MainView />\n          </Route>\n          <Route path=\"/search\">\n            <SearchView />\n          </Route>\n          <Route exact path=\"/\">\n            <MainView />\n          </Route>\n        </Switch>\n      </div>\n    </div>\n  )\n})","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport History from './config/history';\nimport Store from './config/store';\nimport Home from './pages/Home';\nimport './styles/global.scss';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={Store}>\n      <Router>\n        <Home />\n      </Router>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}